css = '''
<style>
.chat-message {
    padding: 1.5rem; border-radius: 0.5rem; margin-bottom: 1rem; display: flex
}
.chat-message.user {
    background-color: #2b313e
}
.chat-message.bot {
    background-color: #475063
}
.chat-message .avatar {
  width: 20%;
}
.chat-message .avatar img {
  max-width: 78px;
  max-height: 78px;
  border-radius: 50%;
  object-fit: cover;
}
.chat-message .message {
  width: 80%;
  padding: 0 1.5rem;
  color: #fff;
}
'''

bot_template = '''
<div class="chat-message bot">
    <div class="avatar">
        <img src="data:image/jpeg;base64,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">
    </div>
    <div class="message">{{MSG}}</div>
</div>
'''

user_template = '''
<div class="chat-message user">
    <div class="avatar">
        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSX1Ze6aTqHKH2T34PZCskvgsTZaN9TGbgpZbZimtF4n4GMcF6lTBsr4vokS40pkKk25v0&usqp=CAU">
    </div>    
    <div class="message">{{MSG}}</div>
</div>
'''